\section{Objective functions and other monitored quantities}\label{objective funcs meaning}
Selecting appropriate objective functions is essential for guiding geometric optimization. In this work, we focus primarily on two such functions: the turbulence kinetic energy (TKE) and the shear rate near the walls. In addition, we also present other relevant metrics that are monitored during the computations.

\subsubsection*{Turbulence kinetic energy}
TKE, defined by~\eqref{eq:turb kin energy}, measures the intensity of velocity fluctuations within the flow. In the context of the TCPC, higher TKE generally corresponds to increased energy losses. Thus, reducing TKE in the TCPC region is desirable in order to improve hemodynamic efficiency. We sum TKE over a defined control volume within the computational domain, obtaining a global level of turbulent activity in the region. In the case of TCPC, TKE can serve as surrogate measure of how smoothly and efficiently blood flows through the connection. 

\subsubsection*{Shear rate}
Shear rate, defined in \eqref{eq:dot gamma}, provides insight into the mechanical forces acting on the vessel walls. Excessive shear rate can negatively affect the vascular health, making controlling near-wall shear rates crucial for ensuring the long-term patency and physiological compatibility of the TCPC.

However, measuring shear rate directly at the wall in a computational framework -- especially using LBM -- poses a challenge. The discrete nature of the grid and the no-slip boundary condition mean that the resolution near the wall can affect the computed shear rate and make it sensitive to discretization details. To address this, we introduce a thin layer of thickness 1 mm adjacent to the vessel walls. Within this layer, we sum the shear rate values rather than relying solely on the cells immediately neighboring the walls. This approach was chosen to reduce the sensitivity on grid characteristics while maintaining the physiological relevance of the quantity, ensuring it provides representative measure of local flow behavior. We denote this near-wall shear rate as $\dot{\gamma}^{A}_{\mathrm{nw}}$.

\subsubsection*{IVC and SVC flow split}
In addition to the main objective functions, we monitor how fluid from the inferior vena cava (IVC) and superior vena cava (SVC) divides between the left and right pulmonary arteries  (LPA and RPA, respectively). A balanced or at least minimally maintained split of inferior vena cava flow into both pulmonary artery branches is desirable. This metric is evaluated in post-processing using the computed mean velocity field. We denote the percentage of fluid directed to RPA as $F^{\text{RPA}}$ and to LPA as $F^{\text{LPA}}$, with subindices IVC and SVC used to specify the source of the flow.

\subsubsection*{Mean velocity vector angle at the pulmonary artery outlets}
It is beneficial for blood in the pulmonary arteries to flow downstream in a laminar manner. Thus, we examine the angle between the mean velocity vector and the outlet normal vector. This angle provides the information  for studying the laminarity of the flow.
